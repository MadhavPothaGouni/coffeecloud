{"mappings":"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","sources":["src/chart.js"],"sourcesContent":["// import { commonHeaders } from \"./headers.js\";\nconst apiUrl = \"https://ccdev.scanomat.com/rest/dashboard/last_day_by_hour?groupid=-1&offset=-330&hoursrange=EIGHT_HOURS\";\nconst commonHeaders = {\n  \"Authorization\": \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJyb290IiwianRpIjoiNTk0ZTU5N2FmYTRmOGMwMDAxMDJjMzg4IiwiYXV0aCI6IkFETUlOLEFQSV9BQ0NFU1MsQlVTSU5FU1NfTU9ERUwsQ0xJRU5ULENPRkZFRV9BU19BX1NFUlZJQ0VfQVVTVFJBTElBLENPRkZFRV9BU19BX1NFUlZJQ0VfREssQ09GRkVFX0FTX0FfU0VSVklDRV9LVVdBSVQsQ09GRkVFX0VYVEVSTkFMLEdFTkVSQUwsSU5TSUdIVFNfREFUQSxTQ0FOT01BVF9BRE1JTixTQ1RfREVWLFNVUEVSLVVTRVIsVEVDSE5JQ0FMLFRFU1RJTkcsVU5BU1NJR05FRF9BQ0NFU1MsVVNFUiIsImV4cCI6MTc0MzY1NTM2OH0.ey49Pwo-E_N-1rC_CVGcmfJB87RnbSy8rZ59PACjZ_k\",\n  \"Content-Type\": \"application/json\"\n};\nconst apiUrls = {\n  \"Last 8 hours\": \"https://ccdev.scanomat.com/rest/dashboard/last_day_by_hour?groupid=-1&offset=-330&hoursrange=EIGHT_HOURS\",\n  \"Last 24 hours\": \"https://ccdev.scanomat.com/rest/dashboard/last_day_by_hour?groupid=-1&offset=-330&hoursrange=TWENTY_FOUR_HOURS\",\n  \"Last 1 week\": \"https://ccdev.scanomat.com/rest/dashboard/last_day_by_hour?groupid=-1&offset=-330&hoursrange=ONE_WEEK\"\n};\n\nfunction fetchAndRenderData(timeRange) {\n  const apiUrl = apiUrls[timeRange];\n  if (!apiUrl) return;\n\n  fetch(apiUrl, { headers: commonHeaders })\n    .then(response => response.json())\n    .then(data => {\n      const chartData = data.map(item => [item.Hour, parseInt(item.NumberOfCups)]);\n\n      Highcharts.chart(\"container2\", {\n        chart: {\n          type: \"area\",\n          zooming: {\n            type: \"x\",\n          },\n          panning: true,\n          panKey: \"shift\",\n          scrollablePlotArea: {\n            minWidth: 600,\n          },\n        },\n        \n        \n        credits: {\n          enabled: false,\n        },\n        xAxis: {\n          categories: chartData.map(item => item[0]),\n          title: {\n            text: \"Hour\",\n          },\n        },\n        yAxis: {\n          title: {\n            text: \"Number of Cups\",\n          },\n        },\n        tooltip: {\n          headerFormat: \"{point.key}<br>\",\n          pointFormat: \"No of cups: {point.y}\",\n          shared: true,\n        },\n        legend: {\n          enabled: false,\n        },\n        series: [\n          {\n            data: chartData.map(item => item[1]),\n            name: \"Number of Cups\",\n            color: \"#3498db\",\n            fillOpacity: 0.5,\n            marker: {\n              enabled: false,\n            },\n          },\n        ],\n      });\n    })\n    .catch(error => console.error(\"Error fetching data:\", error));\n}\n\ndocument.querySelector(\".opt\").addEventListener(\"change\", function () {\n  fetchAndRenderData(this.value);\n});\n\n// Initial load\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  fetchAndRenderData(\"Last 8 hours\");\n});\n\n\nam5.ready(function () {\n  // Create root element\n  // Fetch data from API\n  fetch(\"https://ccdev.scanomat.com/rest/orders/by/product/chart?groupid=-1\", {\n    method: \"GET\",\n    headers:commonHeaders ,\n  })\n    .then((response) => response.json())\n    .then((data) => {\n\n      var root = am5.Root.new(\"chartdiv\");\n\n      // Set themes\n      root.setThemes([am5themes_Animated.new(root)]);\n    \n      // Create chart\n      var chart = root.container.children.push(\n        am5percent.PieChart.new(root, {\n          layout: root.verticalLayout,\n          innerRadius: am5.percent(50),\n        })\n      );\n    \n      // Create series\n      var series = chart.series.push(\n        am5percent.PieSeries.new(root, {\n          valueField: \"value\",\n          categoryField: \"category\",\n          alignLabels: false,\n        })\n      );\n    \n      series.labels.template.setAll({\n        textType: \"circular\",\n        centerX: 0,\n        centerY: 0,\n      });\n\n      // Transform API response to match the chart format\n      const formattedData = data\n        .filter((item) => item.label) // Remove empty labels\n        .map((item) => ({\n          category: item.label, // Map 'label' to 'category'\n          value: item.value, // Keep 'value' as is\n          fill: am5.color(item.color), // Set slice color\n        }));\n  \n      // console.log(formattedData);\n      // Set the formatted data\n      series.data.setAll(formattedData.splice(0,10));\n  \n      var legend = chart.children.push(\n        am5.Legend.new(root, {\n          centerX: am5.percent(50),\n          x: am5.percent(50),\n          marginTop: 15,\n          marginBottom: 15,\n        })\n      );\n    \n      legend.data.setAll(series.dataItems);\n    \n      // Play initial series animation\n      series.appear(1000, 100);\n    })\n    .catch((error) => console.error(\"Error fetching data:\", error));\n  \n\n  // Create legend\n \n});\n\n\nfunction loading(type) {\n  let loader = document.getElementById(\"loader\");\n  let loadingText = document.getElementById(\"loading-text\");\n  let general = document.getElementById(\"general\");\n  let technical = document.getElementById(\"technical\");\n  general.style.display = \"none\";\n  technical.style.display = \"none\";\n  general.style.opacity = \"0\";\n  technical.style.opacity = \"0\";\n\n  loader.style.display = \"block\";\n  loadingText.style.display = \"block\"; // Show loading message\n\n  // Force reflow to apply display change\n  loader.offsetHeight;\n\n  setTimeout(() => {\n    loader.style.display = \"none\";\n    loadingText.style.display = \"none\"; // Hide message when image appears\n\n    const img = document.getElementById(type);\n    img.style.display = \"block\";\n\n    // Slight delay to ensure display change registers\n    setTimeout(() => {\n      img.style.opacity = \"1\";\n    }, 50);\n  }, 1000);\n}\n\nfunction showDashboard(type) {\n  let mainBlock = document.getElementById(\"main-block1\");\n  let loader = document.getElementById(\"loader\");\n  let loadingText = document.getElementById(\"loading-text\");\n  let hiddendash = document.querySelector(\".dashboardhidden\")\n\n  // mainBlock.style.display = 'block';\n  loader.style.display = \"block\";\n  loadingText.style.display = \"block\";\n  hiddendash.style.backgroundColor = '#40434a';\n  hiddendash.style.color = 'white';\n\n\n  // Force reflow to apply display change\n  loader.offsetHeight;\n  setTimeout(() => {\n    loader.style.display = \"none\";\n    loadingText.style.display = \"none\"; // Hide message when image appears\n\n    // const mainBlock = document.getElementById(type);\n    mainBlock.style.display = \"block\";\n\n    // Slight delay to ensure display change registers\n    //   setTimeout(() => {\n    //     img.style.opacity = \"1\";\n    //   }, 50);\n  }, 1000);\n}\n\nfunction empty(type) {\n  let mainBlock = document.getElementById(\"main-block1\");\n  mainBlock.style.display = \"none\";\n  // setTimeout(() => {\n  //     loader.style.display = 'none';\n  //     loadingText.style.display = 'none'; // Hide message when image appears\n\n  //     // const mainBlock = document.getElementById(type);\n  //     mainBlock.style.display = 'block';\n\n  //     // Slight delay to ensure display change registers\n  //     setTimeout(() => {\n  //         img.style.opacity = '1';\n  //     }, 50);\n  // }, 2000);\n}\n\nfunction toggleNav() {\n  let sidebar = document.getElementById(\"mySidebar\");\n  let main = document.getElementById(\"main-block\");\n\n  if (sidebar.style.width === \"220px\") {\n    sidebar.style.width = \"0\";\n    main.style.marginLeft = \"0\";\n  } else {\n    sidebar.style.width = \"220px\";\n    main.style.marginLeft = \"205px\";\n  }\n}\n\nvar myModal = document.getElementById(\"myModal-1\");\n\n// Get the button that opens the myModal\nvar btn = document.getElementById(\"myBtn\");\n\n// Get the <span> element that closes the myModal\nvar span = document.getElementsByClassName(\"close\")[0];\n\n// When the user clicks on the button, open the myModal\nbtn.onclick = function () {\n  myModal.style.display = \"block\";\n};\n\n// When the user clicks on <span> (x), close the myModal\nspan.onclick = function () {\n  myModal.style.display = \"none\";\n};\n\n// When the user clicks anywhere outside of the myModal, close it\nwindow.onclick = function (event) {\n  if (event.target == myModal) {\n    myModal.style.display = \"none\";\n  }\n};\n\n// function openModal() {\n//   document.getElementById(\"modalOverlay\").style.display = \"block\";\n//   document.getElementById(\"modalContent-1\").style.right = \"0\";\n// }\n\n// function closeModal() {\n//   document.getElementById(\"modalContent-1\").style.right = \"-100%\";\n//   setTimeout(() => {\n//       document.getElementById(\"modalOverlay\").style.display = \"none\";\n//   }, 400); // Match transition time\n// }\n\ndocument\n  .getElementById(\"signInOverlay\")\n  .addEventListener(\"click\", function (event) {\n    if (event.target === event.currentTarget) {\n      closeSignInNav();\n    }\n  });\n\nfunction openSignInNav() {\n  document.getElementById(\"signInNav\").style.transition = \"none\";\n  document.getElementById(\"signInNav\").style.width = \"26%\";\n  document.getElementById(\"signInOverlay\").style.width = \"100%\";\n  document.getElementById(\"signInOverlay\").style.backgroundColor =\n    \"rgba(0,0,0,0.5)\";\n\n  setTimeout(function () {\n    document.getElementById(\"signInNav\").style.transition = \"width 0.3s ease\";\n  }, 0);\n}\n\nfunction closeSignInNav() {\n  document.getElementById(\"signInNav\").style.width = \"0%\";\n  document.getElementById(\"signInOverlay\").style.width = \"0%\";\n  document.getElementById(\"signInOverlay\").style.backgroundColor =\n    \"transparent\";\n}\n\n"],"names":[],"version":3,"file":"CoffeeCloud.784c78fc.js.map","sourceRoot":"/__parcel_source_root/"}